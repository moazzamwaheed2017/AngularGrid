import { browser, element, by, takeElementSnapshot } from '@progress/kendo-angular-e2e';

import {
    firstCssSelector,
    firstSelector,
    boldSelector,
    italicSelector,
    underlineSelector,
    dropdownToggleSelector,
    dropdownToggleSelectorFont,
    buletsSelector,
    orderedSelector,
    strikeSelector,
    linkSelector,
    unlinkSelector,
    viewSourceSelector,
    insertImageSelector,
    customCommandSelector,
    undoSelector,
    redoSelector,
    smallTime,
    insertImage,
    modifiers,
    selectAllInitial
} from '../e2e/utils';

describe('editor toolbar', () => {
    beforeAll(() => {
        browser.get('/examples/e2e/basic.html');
    });

    beforeEach(async() => {
        element(by.id('reset')).click();
        browser.manage().window().setSize(1200, 1500);
        browser.waitForAngular();
    });
    const smallTime = 100;
    const baselineFolder = './artifacts';

    for (let modifier of modifiers) {
        it(`should have proper toolbar button state for ${modifier.description}`, async() => {
            await selectAllInitial();
            await modifier.action();
            await browser.sleep(smallTime);
            await takeElementSnapshot(browser, 'kendo-editor', ['div#demoToolbar'], `${baselineFolder}/tool-${modifier.description}.png`);
        });
    }
});
