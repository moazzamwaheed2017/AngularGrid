System.register("@progress/kendo-angular-conversational-ui",["tslib","@progress/kendo-angular-buttons","@angular/common","@progress/kendo-angular-common","@angular/core","@progress/kendo-angular-intl","rxjs","rxjs/operators","@progress/kendo-angular-l10n"],function(s){var i,r,c,l,d,p,u,m,g;function t(e){return e.__useDefault?e.default:e}return{setters:[function(e){i=t(e)},function(e){r=t(e)},function(e){c=t(e)},function(e){l=t(e)},function(e){d=t(e)},function(e){p=t(e)},function(e){u=t(e)},function(e){m=t(e)},function(e){g=t(e)}],execute:function(){function a(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}var n,o;o={},a.m=n=[function(e,t){e.exports=i},function(e,t){e.exports=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(31);t.ChatComponent=a.ChatComponent;var o=n(10);t.AttachmentTemplateDirective=o.AttachmentTemplateDirective;var s=n(4);t.MessageTemplateDirective=s.MessageTemplateDirective},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function a(){}t.ChatItem=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(1),s=a.__decorate([o.Directive({selector:"[kendoChatMessageTemplate]"}),a.__param(0,o.Optional()),a.__metadata("design:paramtypes",[o.TemplateRef])],i);function i(e){this.templateRef=e}t.MessageTemplateDirective=s},function(e,t){e.exports=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function a(e){this.message=e}t.SendMessageEvent=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(0),s=(a=n(15).PreventableEvent,o.__extends(i,a),i);function i(e,t){var n=a.call(this)||this;return n.action=e,n.message=t,n}t.ExecuteActionEvent=s},function(e,t){e.exports=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(0),s=n(1),i=(a=n(5).ComponentMessages,o.__extends(r,a),o.__decorate([s.Input(),o.__metadata("design:type",String)],r.prototype,"messagePlaceholder",void 0),o.__decorate([s.Input(),o.__metadata("design:type",String)],r.prototype,"send",void 0),r);function r(){return null!==a&&a.apply(this,arguments)||this}t.Messages=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(1),s=a.__decorate([o.Directive({selector:"[kendoChatAttachmentTemplate]"}),a.__param(0,o.Optional()),a.__metadata("design:paramtypes",[o.TemplateRef])],i);function i(e){this.templateRef=e}t.AttachmentTemplateDirective=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o,s=n(0),i=n(1),r=n(3),c=(a=r.ChatItem,s.__extends(l,a),(o=l).prototype.isSelected=function(e){return this.selected&&this.selectedIndex===e},l.prototype.actionClick=function(e){this.dispatch.next(e)},l.prototype.actionKeydown=function(e,t){var n=this.keyHandlers[e.keyCode];n&&n(e,t)},l.prototype.focus=function(){this.select(this.selectedIndex)},l.prototype.select=function(e){this.selectedIndex=e;var t=this.items.toArray()[e];t&&t.nativeElement.focus()},l.prototype.navigateTo=function(e,t){var n=this.selectedIndex,a=Math.max(0,Math.min(n+t,this.items.length-1));a!==n&&(this.select(a),e.preventDefault())},s.__decorate([i.Input(),s.__metadata("design:type",Array)],l.prototype,"actions",void 0),s.__decorate([i.Input(),s.__metadata("design:type",Boolean)],l.prototype,"tabbable",void 0),s.__decorate([i.Output(),s.__metadata("design:type",i.EventEmitter)],l.prototype,"dispatch",void 0),s.__decorate([i.HostBinding("class.k-quick-replies"),s.__metadata("design:type",Boolean)],l.prototype,"defaultClass",void 0),s.__decorate([i.ViewChildren("item"),s.__metadata("design:type",i.QueryList)],l.prototype,"items",void 0),o=s.__decorate([i.Component({selector:"kendo-chat-suggested-actions",providers:[{provide:r.ChatItem,useExisting:i.forwardRef(function(){return o})}],template:'\n    <span #item\n      *ngFor="let action of actions; index as index; first as first; last as last"\n      class="k-quick-reply"\n      [class.k-state-selected]="isSelected(index)"\n      [class.k-state-focused]="isSelected(index)"\n      [class.k-first]="first"\n      [class.k-last]="last"\n      [attr.tabindex]="tabbable && selectedIndex === index ? \'0\' : \'-1\'"\n      (click)="actionClick(action)"\n      (keydown)="actionKeydown($event, action)"\n    >\n      {{ action.title || action.value }}\n    </span>\n  '})],l));function l(){var e,n=null!==a&&a.apply(this,arguments)||this;return n.dispatch=new i.EventEmitter,n.defaultClass=!0,n.selectedIndex=0,n.keyHandlers=((e={})[37]=function(e){return n.navigateTo(e,-1)},e[39]=function(e){return n.navigateTo(e,1)},e[13]=function(e,t){return n.actionClick(t)},e),n}t.SuggestedActionsComponent=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(1),s=(i.prototype.ngOnInit=function(){var e=this;this.zone.runOutsideAngular(function(){e.unsubscribe=e.renderer.listen(e.element.nativeElement,"scroll",function(){return e.onScroll()})})},i.prototype.ngAfterViewInit=function(){this.scrollToBottom()},i.prototype.ngOnDestroy=function(){this.unsubscribe&&this.unsubscribe()},i.prototype.onScroll=function(){var e=this;if(!this.scrolling){var t=this.element.nativeElement,n=t.scrollTop+t.offsetHeight,a=t.scrollHeight-n<2;this.autoScroll!==a&&this.zone.run(function(){e.autoScroll=a,e.autoScrollChange.emit(e.autoScroll)})}},i.prototype.scrollToBottom=function(){var e=this;if(this.autoScroll){var t=this.element.nativeElement;t.scrollTop=t.scrollHeight-t.clientHeight,this.scrolling=!0,this.zone.runOutsideAngular(function(){return setTimeout(function(){return e.scrolling=!1},1e3)})}},a.__decorate([o.Input(),a.__metadata("design:type",Boolean)],i.prototype,"autoScroll",void 0),a.__decorate([o.Output(),a.__metadata("design:type",o.EventEmitter)],i.prototype,"autoScrollChange",void 0),a.__decorate([o.HostBinding("style.overflow-anchor"),a.__metadata("design:type",String)],i.prototype,"overflowAnchor",void 0),a.__decorate([o.Directive({selector:"[kendoChatScrollAnchor]",exportAs:"scrollAnchor"}),a.__metadata("design:paramtypes",[o.ElementRef,o.NgZone,o.Renderer2])],i));function i(e,t,n){this.element=e,this.zone=t,this.renderer=n,this.autoScroll=!0,this.autoScrollChange=new o.EventEmitter,this.overflowAnchor="none",this.scrolling=!1}t.ScrollAnchorDirective=s},function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r=t(1);s.isAuthor=function(e,t){return e&&t.author&&e.id===t.author.id};function c(e){return e[e.length-1]}s.chatView=function(e){return e.reduce(function(a){return function(e,i,t){var n=t===a-1;return function(e){var t,n,a=i.timestamp,o=c(e);if(a&&(!o||(t=a,n=o.timestamp,t&&n&&(n.getDate()!==t.getDate()||n.getMonth()!==t.getMonth()||n.getFullYear()!==t.getFullYear())))){var s={type:"date-marker",timestamp:a,trackBy:a.getTime()};e.push(s)}}(e),function(e,t,n){var a,o=c(e);if(r.isDevMode()&&!t.author)throw new Error("Author must be set for message: "+JSON.stringify(t));t.typing&&!n||(o&&"message-group"===o.type&&(a=o.messages),a&&s.isAuthor(t.author,c(a))?a.push(t):e.push({type:"message-group",messages:[t],author:t.author,timestamp:t.timestamp,trackBy:t}))}(e,i,n),i.attachments&&1<i.attachments.length&&e.push({type:"attachment-group",attachments:i.attachments,attachmentLayout:i.attachmentLayout,timestamp:i.timestamp,trackBy:i}),i.suggestedActions&&n&&e.push({type:"action-group",actions:i.suggestedActions,timestamp:i.timestamp,trackBy:i}),e}}(e.length),[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.closest=function(e,t){for(;e&&!t(e);)e=e.parentNode;return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(o.prototype.preventDefault=function(){this.prevented=!0},o.prototype.isDefaultPrevented=function(){return this.prevented},o);function o(){this.prevented=!1}t.PreventableEvent=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(1),s=n(7),i=n(14),r=n(3),c=n(13),l=n(2),d=n(4),p=n(8),u=(Object.defineProperty(m.prototype,"messages",{get:function(){return this._messages},set:function(e){var t=e||[];this.view=c.chatView(t),this._messages=t},enumerable:!0,configurable:!0}),m.prototype.ngAfterViewInit=function(){this.selectedItem=this.items.last},m.prototype.onResize=function(){this.resize.emit()},m.prototype.formatTimeStamp=function(e){return this.intl.formatDate(e,{date:"full"})},m.prototype.onKeydown=function(e){var t=this.keyActions[e.keyCode];t&&t(e)},m.prototype.onBlur=function(e){var t=this,n=e.relatedTarget||document.activeElement;i.closest(n,function(e){return e===t.element.nativeElement})||this.select(null)},m.prototype.isOwnMessage=function(e){return c.isAuthor(this.user,e)},m.prototype.dispatchAction=function(e,t){var n=new s.ExecuteActionEvent(e,t);this.executeAction.emit(n)},m.prototype.trackGroup=function(e,t){return t.trackBy},m.prototype.select=function(e){var t=this.selectedItem;t&&(t.selected=!1),e&&(e.selected=!0,this.selectedItem=e)},m.prototype.last=function(e){if(e&&0!==e.length)return e[e.length-1]},m.prototype.navigateTo=function(e,t){var n=this.items.toArray(),a=this.selectedItem,o=n.indexOf(a),s=n[Math.max(0,Math.min(o+t,this.items.length-1))];s!==a&&(this.select(s),s.focus(),this.navigate.emit(),e.preventDefault())},a.__decorate([o.Input(),a.__metadata("design:type",Array),a.__metadata("design:paramtypes",[Array])],m.prototype,"messages",null),a.__decorate([o.Input(),a.__metadata("design:type",l.AttachmentTemplateDirective)],m.prototype,"attachmentTemplate",void 0),a.__decorate([o.Input(),a.__metadata("design:type",d.MessageTemplateDirective)],m.prototype,"messageTemplate",void 0),a.__decorate([o.Input(),a.__metadata("design:type",Object)],m.prototype,"user",void 0),a.__decorate([o.Output(),a.__metadata("design:type",o.EventEmitter)],m.prototype,"executeAction",void 0),a.__decorate([o.Output(),a.__metadata("design:type",o.EventEmitter)],m.prototype,"navigate",void 0),a.__decorate([o.Output(),a.__metadata("design:type",o.EventEmitter)],m.prototype,"resize",void 0),a.__decorate([o.ViewChildren(r.ChatItem),a.__metadata("design:type",o.QueryList)],m.prototype,"items",void 0),a.__decorate([o.HostBinding("class.k-message-list-content"),a.__metadata("design:type",Boolean)],m.prototype,"cssClass",void 0),a.__decorate([o.HostListener("keydown",["$event"]),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[Object]),a.__metadata("design:returntype",void 0)],m.prototype,"onKeydown",null),a.__decorate([o.HostListener("focusout",["$event"]),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[FocusEvent]),a.__metadata("design:returntype",void 0)],m.prototype,"onBlur",null),a.__decorate([o.Component({selector:"kendo-chat-message-list",template:'\n    <ng-container *ngFor="let group of view; last as lastGroup; trackBy: trackGroup">\n      <ng-container [ngSwitch]="group.type">\n        <div\n          *ngSwitchCase="\'date-marker\'"\n          class="k-timestamp"\n        >\n          {{ formatTimeStamp(group.timestamp) }}\n        </div>\n        <div\n          *ngSwitchCase="\'message-group\'"\n          class="k-message-group"\n          [class.k-alt]="isOwnMessage(group.messages[0])"\n          [class.k-no-avatar]="!group.author.avatarUrl"\n        >\n          <img\n            *ngIf="group.author.avatarUrl"\n            [attr.src]="group.author.avatarUrl"\n            class="k-avatar"\n          />\n          <p *ngIf="group.author.name" class="k-author">{{ group.author.name }}</p>\n          <ng-container\n              *ngFor="let msg of group.messages; first as firstMessage; last as lastMessage"\n          >\n            <img *ngIf="msg.user?.avatarUrl" [src]="msg.user?.avatarUrl" class="k-avatar">\n            <kendo-chat-message #message\n              [message]="msg"\n              [tabbable]="lastGroup && lastMessage"\n              [template]="messageTemplate"\n              (click)="select(message)"\n              (focus)="select(message)"\n              [class.k-only]="group.messages.length === 1"\n              [class.k-first]="group.messages.length > 1 && firstMessage"\n              [class.k-last]="group.messages.length > 1 && lastMessage"\n            >\n            </kendo-chat-message>\n\n            <kendo-chat-attachment\n              *ngIf="msg.attachments && msg.attachments.length === 1"\n              [attachment]="msg.attachments[0]"\n              [template]="attachmentTemplate"\n              >\n            </kendo-chat-attachment>\n          </ng-container>\n        </div>\n\n        <kendo-chat-message-attachments #attachments\n          *ngSwitchCase="\'attachment-group\'"\n          [attachments]="group.attachments"\n          [layout]="group.attachmentLayout"\n          [tabbable]="lastGroup"\n          [template]="attachmentTemplate"\n          (click)="select(attachments)"\n          (focus)="select(attachments)"\n        >\n        </kendo-chat-message-attachments>\n\n        <kendo-chat-suggested-actions #actions\n          *ngSwitchCase="\'action-group\'"\n          [actions]="group.actions"\n          [tabbable]="lastGroup"\n          (dispatch)="dispatchAction($event, last(group.messages))"\n          (click)="select(actions)"\n          (focus)="select(actions)"\n        >\n        </kendo-chat-suggested-actions>\n      </ng-container>\n    </ng-container>\n    <kendo-resize-sensor (resize)="onResize()">\n    </kendo-resize-sensor>\n  '}),a.__metadata("design:paramtypes",[o.ElementRef,p.IntlService])],m));function m(e,t){var n,a=this;this.element=e,this.intl=t,this.executeAction=new o.EventEmitter,this.navigate=new o.EventEmitter,this.resize=new o.EventEmitter,this.cssClass=!0,this.view=[],this.keyActions=((n={})[38]=function(e){return a.navigateTo(e,-1)},n[40]=function(e){return a.navigateTo(e,1)},n)}t.MessageListComponent=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o,s=n(0),i=n(1),r=n(3),c=n(4),l=n(8),d=(a=r.ChatItem,s.__extends(p,a),o=p,Object.defineProperty(p.prototype,"tabIndex",{get:function(){return this.tabbable?"0":"-1"},enumerable:!0,configurable:!0}),p.prototype.formatTimeStamp=function(e){return this.intl.formatDate(e,{datetime:"short"})},p.prototype.focus=function(){this.element.nativeElement.focus()},s.__decorate([i.Input(),s.__metadata("design:type",Object)],p.prototype,"message",void 0),s.__decorate([i.Input(),s.__metadata("design:type",Boolean)],p.prototype,"tabbable",void 0),s.__decorate([i.Input(),s.__metadata("design:type",c.MessageTemplateDirective)],p.prototype,"template",void 0),s.__decorate([i.HostBinding("class.k-message"),s.__metadata("design:type",Boolean)],p.prototype,"cssClass",void 0),s.__decorate([i.HostBinding("class.k-state-selected"),i.HostBinding("class.k-state-focused"),s.__metadata("design:type",Boolean)],p.prototype,"selected",void 0),s.__decorate([i.HostBinding("attr.tabIndex"),s.__metadata("design:type",String),s.__metadata("design:paramtypes",[])],p.prototype,"tabIndex",null),o=s.__decorate([i.Component({selector:"kendo-chat-message",providers:[{provide:r.ChatItem,useExisting:i.forwardRef(function(){return o})}],template:'\n    <time\n      [attr.aria-hidden]="!selected"\n      class="k-message-time"\n      *ngIf="message.timestamp"\n    >\n      {{ formatTimeStamp(message.timestamp) }}\n    </time>\n\n    <ng-container *ngIf="!message.typing; else typing">\n      <div class="k-bubble" *ngIf="template">\n        <ng-container\n          *ngTemplateOutlet="template.templateRef; context: { $implicit: message };"\n        >\n        </ng-container>\n      </div>\n\n      <div class="k-bubble" *ngIf="!template && message.text">\n        {{message.text}}\n      </div>\n    </ng-container>\n\n    <span\n      class="k-message-status"\n      *ngIf="message.status"\n    >\n      {{ message.status }}\n    </span>\n\n    <ng-template #typing>\n      <div class="k-bubble">\n        <div class="k-typing-indicator">\n          <span></span>\n          <span></span>\n          <span></span>\n        </div>\n      </div>\n    </ng-template>\n  '}),s.__metadata("design:paramtypes",[i.ElementRef,l.IntlService])],p));function p(e,t){var n=a.call(this)||this;return n.element=e,n.intl=t,n.cssClass=!0,n}t.MessageComponent=d},function(e,t){e.exports=m},function(e,t){e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,a,s=n(0),i=n(1),r=n(19),c=n(18),l=n(3),d=n(2),p=(o=l.ChatItem,s.__extends(u,o),a=u,Object.defineProperty(u.prototype,"carousel",{get:function(){return"list"!==this.layout},enumerable:!0,configurable:!0}),u.prototype.ngAfterViewInit=function(){var e=this;this.zone.runOutsideAngular(function(){e.scrollSubscription=r.fromEvent(e.deck.nativeElement,"scroll").pipe(c.debounceTime(100)).subscribe(function(){return e.onScroll()})})},u.prototype.ngOnDestroy=function(){this.scrollSubscription.unsubscribe()},u.prototype.isSelected=function(e){return this.selectedIndex===e},u.prototype.itemKeydown=function(e,t){var n=("list"===this.layout?this.listKeyHandlers:this.carouselKeyHandlers)[e.keyCode];n&&n(e,t)},u.prototype.itemClick=function(e){this.select(e)},u.prototype.focus=function(){this.select(this.selectedIndex)},u.prototype.scrollTo=function(e){var t=this.deck.nativeElement,n=t.scrollWidth/this.items.length,a=t.scrollWidth-t.offsetWidth,o=t.scrollLeft+n*e;t.scrollLeft=Math.max(0,Math.min(a,o))},u.prototype.select=function(e){this.selectedIndex=e;var t=this.items.toArray()[e];t&&t.nativeElement.focus()},u.prototype.navigateTo=function(e,t){var n=this.selectedIndex,a=Math.max(0,Math.min(n+t,this.items.length-1));a!==n&&(this.select(a),e.preventDefault())},u.prototype.onScroll=function(){var e=this,t=this.deck.nativeElement;if(0!==t.scrollWidth){var n=t.scrollLeft/(t.scrollWidth-t.offsetWidth);n!==this.scrollPosition&&this.zone.run(function(){e.scrollPosition=n})}},s.__decorate([i.Input(),s.__metadata("design:type",Array)],u.prototype,"attachments",void 0),s.__decorate([i.Input(),s.__metadata("design:type",String)],u.prototype,"layout",void 0),s.__decorate([i.Input(),s.__metadata("design:type",Boolean)],u.prototype,"tabbable",void 0),s.__decorate([i.Input(),s.__metadata("design:type",d.AttachmentTemplateDirective)],u.prototype,"template",void 0),s.__decorate([i.HostBinding("class.k-card-deck-scrollwrap"),s.__metadata("design:type",Boolean),s.__metadata("design:paramtypes",[])],u.prototype,"carousel",null),s.__decorate([i.ViewChild("deck",{read:i.ElementRef}),s.__metadata("design:type",i.ElementRef)],u.prototype,"deck",void 0),s.__decorate([i.ViewChildren("item",{read:i.ElementRef}),s.__metadata("design:type",i.QueryList)],u.prototype,"items",void 0),a=s.__decorate([i.Component({providers:[{provide:l.ChatItem,useExisting:i.forwardRef(function(){return a})}],selector:"kendo-chat-message-attachments",template:'\n    <button\n      *ngIf="carousel && scrollPosition > 0"\n      (click)="scrollTo(-1)"\n      class="k-button k-button-icon"\n      tabindex="-1">\n        <span class="k-icon k-i-arrow-chevron-left"></span>\n    </button>\n    <div #deck [class.k-card-deck]="carousel">\n      <kendo-chat-attachment #item\n        *ngFor="let att of attachments; index as index; first as first; last as last"\n        [attachment]="att"\n        [template]="template"\n        [class.k-state-selected]="isSelected(index)"\n        [class.k-state-focused]="isSelected(index)"\n        [class.k-card-wrap]="true"\n        [class.k-first]="first"\n        [class.k-last]="last"\n        [attr.tabindex]="tabbable && isSelected(index) ? \'0\' : \'-1\'"\n        (click)="itemClick(index)"\n        (keydown)="itemKeydown($event, att)"\n      >\n      </kendo-chat-attachment>\n    </div>\n    <button\n      *ngIf="carousel && scrollPosition < 1"\n      (click)="scrollTo(1)"\n      class="k-button k-button-icon"\n      tabindex="-1">\n        <span class="k-icon k-i-arrow-chevron-right"></span>\n    </button>\n  '}),s.__metadata("design:paramtypes",[i.NgZone])],u));function u(e){var t,n,a=o.call(this)||this;return a.zone=e,a.scrollPosition=0,a.selectedIndex=0,a.carouselKeyHandlers=((t={})[37]=function(e){return a.navigateTo(e,-1)},t[39]=function(e){return a.navigateTo(e,1)},t),a.listKeyHandlers=((n={})[38]=function(e){return a.navigateTo(e,-1)},n[40]=function(e){return a.navigateTo(e,1)},n),a}t.MessageAttachmentsComponent=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o,s=n(0),i=n(1),r=n(5),c=n(9),l=(a=c.Messages,s.__extends(d,a),o=d,o=s.__decorate([i.Directive({providers:[{provide:c.Messages,useExisting:i.forwardRef(function(){return o})}],selector:"[kendoChatLocalizedMessages]"}),s.__metadata("design:paramtypes",[r.LocalizationService])],d));function d(e){var t=a.call(this)||this;return t.service=e,t}t.LocalizedMessagesDirective=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(1),s=(i.prototype.onClick=function(e){this.executeAction.next(e)},a.__decorate([o.Input(),a.__metadata("design:type",String)],i.prototype,"imageUrl",void 0),a.__decorate([o.Input(),a.__metadata("design:type",String)],i.prototype,"title",void 0),a.__decorate([o.Input(),a.__metadata("design:type",String)],i.prototype,"subtitle",void 0),a.__decorate([o.Input(),a.__metadata("design:type",Array)],i.prototype,"actions",void 0),a.__decorate([o.HostBinding("class.k-card"),a.__metadata("design:type",Boolean)],i.prototype,"cssClass",void 0),a.__decorate([o.Output(),a.__metadata("design:type",o.EventEmitter)],i.prototype,"executeAction",void 0),a.__decorate([o.Component({selector:"kendo-chat-hero-card",template:'\n    <img class="k-card-image" [src]="imageUrl" *ngIf="imageUrl" />\n    <div class="k-card-body">\n      <h5 class="k-card-title" *ngIf="title">\n        {{ title }}\n      </h5>\n      <h6 class="k-card-subtitle" *ngIf="subtitle">\n        {{ subtitle }}\n      </h6>\n    </div>\n    <div class="k-card-actions k-card-actions-vertical">\n      <span class="k-card-action"\n            *ngFor="let act of actions"\n      >\n        <button\n          kendoButton look="flat"\n          (click)="onClick(act)">\n          {{ act.title }}\n        </button>\n      </span>\n    </div>\n  '})],i));function i(){this.cssClass=!0,this.executeAction=new o.EventEmitter}t.HeroCardComponent=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(1),s=(i.prototype.onFocus=function(){this.focused=!0},i.prototype.onBlur=function(){this.focused=!1},a.__decorate([o.HostBinding("class.k-state-focused"),a.__metadata("design:type",Boolean)],i.prototype,"focused",void 0),a.__decorate([o.HostListener("focusin"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[]),a.__metadata("design:returntype",void 0)],i.prototype,"onFocus",null),a.__decorate([o.HostListener("focusout"),a.__metadata("design:type",Function),a.__metadata("design:paramtypes",[]),a.__metadata("design:returntype",void 0)],i.prototype,"onBlur",null),a.__decorate([o.Directive({selector:"[kendoChatFocusedState]"})],i));function i(){this.focused=!1}t.FocusedStateDirective=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o,s=n(0),i=n(1),r=n(5),c=n(9),l=(a=c.Messages,s.__extends(d,a),o=d,Object.defineProperty(d.prototype,"override",{get:function(){return!0},enumerable:!0,configurable:!0}),o=s.__decorate([i.Component({providers:[{provide:c.Messages,useExisting:i.forwardRef(function(){return o})}],selector:"kendo-chat-messages",template:""}),s.__metadata("design:paramtypes",[r.LocalizationService])],d));function d(e){var t=a.call(this)||this;return t.service=e,t}t.CustomMessagesComponent=l},function(e,t){e.exports=l},function(e,t){e.exports=c},function(e,t){e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(1),s=n(2),i=(Object.defineProperty(r.prototype,"attachment",{get:function(){return this._attachment},set:function(e){this._attachment=e,this.context={$implicit:this.attachment}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"image",{get:function(){return 0===this.contentType.indexOf("image/")},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"unknown",{get:function(){return!this.image},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"contentType",{get:function(){return this.attachment.contentType||""},enumerable:!0,configurable:!0}),a.__decorate([o.Input(),a.__metadata("design:type",Object),a.__metadata("design:paramtypes",[Object])],r.prototype,"attachment",null),a.__decorate([o.Input(),a.__metadata("design:type",s.AttachmentTemplateDirective)],r.prototype,"template",void 0),a.__decorate([o.Component({selector:"kendo-chat-attachment",template:'\n    <ng-container *ngIf="template">\n      <ng-container *ngTemplateOutlet="template.templateRef; context: context;">\n      </ng-container>\n    </ng-container>\n\n    <div *ngIf="!template" class="k-card">\n      <div class="k-card-body">\n        <h5 class="k-card-title" *ngIf="attachment.title">\n          {{ attachment.title }}\n        </h5>\n        <h6 class="k-card-subtitle" *ngIf="attachment.subtitle">\n          {{ attachment.subtitle }}\n        </h6>\n        <img *ngIf="image" [attr.src]="attachment.content" />\n        <ng-container *ngIf="unknown">\n          {{ attachment.content }}\n        </ng-container>\n      </div>\n    </div>\n  '})],r));function r(){}t.AttachmentComponent=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(28),s=n(2),i=n(27),r=n(26),c=n(25),l=n(24),d=n(23),p=n(22),u=n(21),m=n(20),g=n(17),_=n(16),h=n(1),f=n(12),v=n(11),y=[s.ChatComponent,l.CustomMessagesComponent,s.AttachmentTemplateDirective,s.MessageTemplateDirective,p.HeroCardComponent],b=[o.AttachmentComponent,d.FocusedStateDirective,u.LocalizedMessagesDirective,m.MessageAttachmentsComponent,g.MessageComponent,_.MessageListComponent,s.MessageTemplateDirective,f.ScrollAnchorDirective,v.SuggestedActionsComponent],k=a.__decorate([h.NgModule({declarations:y.concat(b),exports:[y],imports:[i.ButtonModule,r.CommonModule,c.ResizeSensorModule]})],x);function x(){}t.ChatModule=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function a(){}var o=n(6),s={reply:function(e,t){t.sendMessage.emit(new o.SendMessageEvent({author:t.user,text:e.value,timestamp:new Date}))},call:function(e){window.open("tel:"+e.value)},openUrl:function(e){window.open(e.value)}};t.makeHandler=function(e){return s[e.type]||a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(1),s=n(10),i=n(5),r=n(30),c=n(4),l=n(6),d=(Object.defineProperty(p.prototype,"className",{get:function(){return"k-widget k-chat"},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"dirAttr",{get:function(){return this.direction},enumerable:!0,configurable:!0}),p.prototype.ngOnChanges=function(){var e=this;this.zone.runOutsideAngular(function(){return setTimeout(function(){e.messageList.nativeElement.style.flex="1 1 auto"})})},p.prototype.ngAfterViewInit=function(){if(o.isDevMode()&&!this.user)throw new Error("User must be set and have a valid id.")},p.prototype.ngOnDestroy=function(){this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()},p.prototype.sendClick=function(){var e=this.messageInput.nativeElement,t=e.value;if(t){var n={author:this.user,text:t,timestamp:new Date};this.sendMessage.emit(new l.SendMessageEvent(n)),e.value=null,e.focus(),this.autoScroll=!0}},p.prototype.inputKeydown=function(e){13===e.keyCode&&this.sendClick()},p.prototype.dispatchAction=function(e){this.executeAction.emit(e),e.isDefaultPrevented()||(r.makeHandler(e.action)(e.action,this),this.messageInput.nativeElement.focus())},p.prototype.textFor=function(e){return this.localization.get(e)},a.__decorate([o.Input(),a.__metadata("design:type",Array)],p.prototype,"messages",void 0),a.__decorate([o.Input(),a.__metadata("design:type",Object)],p.prototype,"user",void 0),a.__decorate([o.Output(),a.__metadata("design:type",o.EventEmitter)],p.prototype,"sendMessage",void 0),a.__decorate([o.Output(),a.__metadata("design:type",o.EventEmitter)],p.prototype,"executeAction",void 0),a.__decorate([o.HostBinding("class"),a.__metadata("design:type",String),a.__metadata("design:paramtypes",[])],p.prototype,"className",null),a.__decorate([o.HostBinding("attr.dir"),a.__metadata("design:type",String),a.__metadata("design:paramtypes",[])],p.prototype,"dirAttr",null),a.__decorate([o.ContentChild(s.AttachmentTemplateDirective),a.__metadata("design:type",s.AttachmentTemplateDirective)],p.prototype,"attachmentTemplate",void 0),a.__decorate([o.ContentChild(c.MessageTemplateDirective),a.__metadata("design:type",c.MessageTemplateDirective)],p.prototype,"messageTemplate",void 0),a.__decorate([o.ViewChild("messageInput"),a.__metadata("design:type",o.ElementRef)],p.prototype,"messageInput",void 0),a.__decorate([o.ViewChild("messageList"),a.__metadata("design:type",o.ElementRef)],p.prototype,"messageList",void 0),a.__decorate([o.Component({providers:[i.LocalizationService,{provide:i.L10N_PREFIX,useValue:"kendo.chat"}],selector:"kendo-chat",template:'\n    <ng-container\n      kendoChatLocalizedMessages\n      i18n-messagePlaceholder="kendo.chat.messagePlaceholder|The placholder text of the message text input"\n      messagePlaceholder="Type a message..."\n\n      i18n-send="kendo.chat.send|The text for the Send button"\n      send="Send..."\n    >\n    </ng-container>\n\n    <div\n      #messageList\n      class="k-message-list k-avatars"\n      aria-live="polite" role="log"\n      kendoChatScrollAnchor\n        #anchor="scrollAnchor"\n        [(autoScroll)]="autoScroll"\n    >\n      <kendo-chat-message-list\n        [messages]="messages"\n        [messageTemplate]="messageTemplate"\n        [attachmentTemplate]="attachmentTemplate"\n        [user]="user"\n        (executeAction)="dispatchAction($event)"\n        (resize)="anchor.scrollToBottom()"\n        (navigate)="this.autoScroll = false"\n      >\n      </kendo-chat-message-list>\n    </div>\n\n    <div class="k-message-box">\n      <input\n        #messageInput\n        kendoChatFocusedState\n        type="text"\n        class="k-input"\n        [placeholder]="textFor(\'messagePlaceholder\')"\n        (keydown)="inputKeydown($event)"\n      >\n      <button\n        kendoButton\n            look="flat"\n        class="k-button-send"\n        tabindex="-1"\n        [attr.title]="textFor(\'send\')"\n        (click)="sendClick()"\n      ><svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 16 16"><path d="M0,14.3c-0.1,0.6,0.3,0.8,0.8,0.6l14.8-6.5c0.5-0.2,0.5-0.6,0-0.8L0.8,1.1C0.3,0.9-0.1,1.1,0,1.7l0.7,4.2C0.8,6.5,1.4,7,1.9,7.1l8.8,0.8c0.6,0.1,0.6,0.1,0,0.2L1.9,8.9C1.4,9,0.8,9.5,0.7,10.1L0,14.3z"/></svg></button>\n    </div>\n  '}),a.__metadata("design:paramtypes",[i.LocalizationService,o.NgZone])],p));function p(e,t){var n=this;this.localization=e,this.zone=t,this.sendMessage=new o.EventEmitter,this.executeAction=new o.EventEmitter,this.autoScroll=!0,this.direction=e.rtl?"rtl":"ltr",this.localizationChangeSubscription=e.changes.subscribe(function(e){var t=e.rtl;n.direction=t?"rtl":"ltr"})}t.ChatComponent=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);a.__exportStar(n(2),t),a.__exportStar(n(29),t),a.__exportStar(n(7),t),a.__exportStar(n(6),t),function(e){for(var t in e)s(t,e[t])}(t)}],a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=32)}}});